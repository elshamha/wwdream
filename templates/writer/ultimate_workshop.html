{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atticus Creativity Workshop - Where Writers Flourish</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&family=Merriweather:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6366f1;
            --primary-dark: #4f46e5;
            --secondary-color: #ec4899;
            --accent-color: #f59e0b;
            --success-color: #10b981;
            --warning-color: #f97316;
            --bg-primary: #ffffff;
            --bg-secondary: #f8fafc;
            --bg-tertiary: #f1f5f9;
            --bg-dark: #0f172a;
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-muted: #64748b;
            --text-accent: #475569;
            --border-color: #e2e8f0;
            --border-hover: #cbd5e1;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
            --border-radius: 16px;
            --border-radius-md: 12px;
            --border-radius-sm: 8px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .workshop-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
            min-height: 100vh;
        }

        /* Header */
        .workshop-header {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-xl);
            margin-bottom: 32px;
            overflow: hidden;
        }

        .header-hero {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 40px 48px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%"><stop offset="0%" style="stop-color:white;stop-opacity:0.1" /><stop offset="100%" style="stop-color:white;stop-opacity:0.05" /></linearGradient></defs><path d="M0,10 Q25,0 50,10 T100,10 V20 H0 Z" fill="url(%23grad)"/></svg>') repeat-x;
            background-size: 200px 40px;
            animation: wave 20s linear infinite;
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            100% { transform: translateX(-200px); }
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .workshop-title {
            font-family: 'Playfair Display', serif;
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 12px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .workshop-subtitle {
            font-size: 20px;
            font-weight: 300;
            opacity: 0.9;
            margin-bottom: 24px;
        }

        .hero-stats {
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
        }

        .hero-stat {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: var(--border-radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .stat-content {
            display: flex;
            flex-direction: column;
        }

        .stat-number {
            font-size: 28px;
            font-weight: 700;
        }

        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }

        .header-nav {
            padding: 20px 48px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-color);
        }

        .nav-tabs {
            display: flex;
            gap: 0;
            background: var(--bg-secondary);
            border-radius: var(--border-radius-sm);
            padding: 4px;
        }

        .nav-tab {
            padding: 12px 24px;
            border: none;
            background: transparent;
            color: var(--text-secondary);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            font-size: 14px;
        }

        .nav-tab.active {
            background: var(--primary-color);
            color: white;
            box-shadow: var(--shadow-sm);
        }

        .nav-tab:hover:not(.active) {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .nav-actions {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            padding: 10px 20px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-primary);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .action-btn.primary {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .action-btn:hover {
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .action-btn.primary:hover {
            background: var(--primary-dark);
        }

        /* Workshop Content */
        .workshop-content {
            display: grid;
            grid-template-columns: 300px 1fr 320px;
            gap: 32px;
            height: calc(100vh - 280px);
        }

        .sidebar {
            background: var(--bg-primary);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .sidebar-header {
            padding: 20px 24px;
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
        }

        .sidebar-title {
            font-weight: 600;
            font-size: 16px;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .sidebar-subtitle {
            font-size: 13px;
            color: var(--text-muted);
        }

        .sidebar-content {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }

        /* Exercise List */
        .exercise-item {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            padding: 16px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .exercise-item:hover {
            border-color: var(--primary-color);
            box-shadow: var(--shadow-md);
            transform: translateY(-1px);
        }

        .exercise-item.active {
            border-color: var(--primary-color);
            background: rgba(99, 102, 241, 0.05);
        }

        .exercise-title {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
            margin-bottom: 6px;
        }

        .exercise-description {
            font-size: 12px;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 8px;
        }

        .exercise-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: var(--text-muted);
        }

        .exercise-difficulty {
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: 500;
        }

        .difficulty-easy { background: rgba(16, 185, 129, 0.1); color: var(--success-color); }
        .difficulty-medium { background: rgba(245, 158, 11, 0.1); color: var(--warning-color); }
        .difficulty-hard { background: rgba(239, 68, 68, 0.1); color: #ef4444; }

        /* Main Workshop Area */
        .workshop-main {
            background: var(--bg-primary);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .main-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--border-color);
            background: var(--bg-secondary);
        }

        .exercise-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .exercise-info h2 {
            font-family: 'Merriweather', serif;
            font-size: 24px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .exercise-tags {
            display: flex;
            gap: 8px;
            margin-bottom: 12px;
        }

        .exercise-tag {
            font-size: 11px;
            padding: 4px 8px;
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border-radius: 4px;
            font-weight: 500;
        }

        .exercise-controls {
            display: flex;
            gap: 8px;
        }

        .control-btn {
            width: 40px;
            height: 40px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            border-radius: var(--border-radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
        }

        .control-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .exercise-prompt {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.6;
            font-style: italic;
        }

        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 32px;
        }

        .writing-area {
            flex: 1;
            background: var(--bg-secondary);
            border: 2px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            padding: 24px;
            font-family: 'Merriweather', serif;
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-primary);
            resize: none;
            outline: none;
            transition: var(--transition);
        }

        .writing-area:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .writing-toolbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
            padding: 12px 16px;
            background: var(--bg-tertiary);
            border-radius: var(--border-radius-sm);
        }

        .toolbar-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .word-count {
            font-size: 13px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .timer-controls {
            display: flex;
            gap: 4px;
        }

        .timer-btn {
            width: 24px;
            height: 24px;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 10px;
        }

        .timer-btn:hover {
            background: var(--primary-dark);
        }

        .toolbar-right {
            display: flex;
            gap: 8px;
        }

        .toolbar-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: 4px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 12px;
        }

        .toolbar-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* AI Assistant Panel */
        .ai-assistant {
            background: var(--bg-primary);
            border-radius: var(--border-radius-md);
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .ai-header {
            padding: 20px 24px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .ai-title {
            font-weight: 600;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .ai-status {
            width: 8px;
            height: 8px;
            background: #4ade80;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .ai-subtitle {
            font-size: 13px;
            opacity: 0.9;
        }

        .ai-content {
            flex: 1;
            overflow-y: auto;
        }

        .ai-tools {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
        }

        .ai-tool-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .ai-tool {
            padding: 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
        }

        .ai-tool:hover {
            border-color: var(--primary-color);
            background: rgba(99, 102, 241, 0.05);
        }

        .ai-tool-icon {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 6px;
        }

        .ai-tool-name {
            font-size: 11px;
            font-weight: 500;
            color: var(--text-primary);
        }

        .ai-suggestions {
            padding: 16px;
            flex: 1;
        }

        .suggestion-item {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-sm);
            padding: 12px;
            margin-bottom: 12px;
            border-left: 3px solid var(--primary-color);
        }

        .suggestion-title {
            font-weight: 500;
            font-size: 12px;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .suggestion-text {
            font-size: 11px;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .suggestion-actions {
            margin-top: 8px;
            display: flex;
            gap: 4px;
        }

        .suggestion-btn {
            padding: 4px 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-primary);
            color: var(--text-secondary);
            border-radius: 3px;
            cursor: pointer;
            font-size: 10px;
            transition: var(--transition);
        }

        .suggestion-btn:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* Progress Tracking */
        .progress-section {
            padding: 20px 24px;
            border-top: 1px solid var(--border-color);
            background: var(--bg-secondary);
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .progress-title {
            font-weight: 600;
            font-size: 14px;
            color: var(--text-primary);
        }

        .progress-percentage {
            font-weight: 600;
            font-size: 14px;
            color: var(--primary-color);
        }

        .progress-bar {
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 8px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            border-radius: 4px;
            transition: var(--transition);
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            font-size: 11px;
            color: var(--text-muted);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .workshop-content {
                grid-template-columns: 280px 1fr 300px;
            }
        }

        @media (max-width: 1024px) {
            .workshop-content {
                grid-template-columns: 1fr;
                height: auto;
            }
            
            .sidebar, .ai-assistant {
                height: 300px;
            }
        }

        @media (max-width: 768px) {
            .workshop-container {
                padding: 16px;
            }
            
            .header-hero {
                padding: 32px 24px;
            }
            
            .workshop-title {
                font-size: 32px;
            }
            
            .hero-stats {
                grid-template-columns: 1fr 1fr;
                gap: 16px;
            }
            
            .header-nav {
                padding: 16px 24px;
                flex-direction: column;
                gap: 16px;
            }
            
            .main-content {
                padding: 20px;
            }
        }

        /* Animations */
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .workshop-content > * {
            animation: slideInUp 0.6s ease-out;
        }

        .workshop-content > *:nth-child(2) {
            animation-delay: 0.1s;
        }

        .workshop-content > *:nth-child(3) {
            animation-delay: 0.2s;
        }
    </style>
</head>
<body>
    <div class="workshop-container">
        <!-- Header -->
        <header class="workshop-header">
            <div class="header-hero">
                <div class="hero-content">
                    <h1 class="workshop-title">Creativity Workshop</h1>
                    <p class="workshop-subtitle">Unleash your imagination with AI-powered writing exercises</p>
                    
                    <div class="hero-stats">
                        <div class="hero-stat">
                            <div class="stat-icon">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">150+</div>
                                <div class="stat-label">Writing Exercises</div>
                            </div>
                        </div>
                        <div class="hero-stat">
                            <div class="stat-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">AI</div>
                                <div class="stat-label">Powered Tools</div>
                            </div>
                        </div>
                        <div class="hero-stat">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number">10K+</div>
                                <div class="stat-label">Writers Helped</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="header-nav">
                <div class="nav-tabs">
                    <button class="nav-tab active" onclick="switchTab('exercises')">Writing Exercises</button>
                    <button class="nav-tab" onclick="switchTab('prompts')">Daily Prompts</button>
                    <button class="nav-tab" onclick="switchTab('challenges')">Challenges</button>
                    <button class="nav-tab" onclick="switchTab('courses')">Courses</button>
                </div>
                
                <div class="nav-actions">
                    <a href="{% url 'writer:google_docs_editor' %}" class="action-btn">
                        <i class="fas fa-pen"></i>
                        New Project
                    </a>
                    <a href="{% url 'writer:ultimate_dashboard' %}" class="action-btn primary">
                        <i class="fas fa-home"></i>
                        Dashboard
                    </a>
                </div>
            </div>
        </header>

        <!-- Workshop Content -->
        <div class="workshop-content">
            <!-- Exercise List Sidebar -->
            <div class="sidebar">
                <div class="sidebar-header">
                    <div class="sidebar-title">Writing Exercises</div>
                    <div class="sidebar-subtitle">Choose your creative journey</div>
                </div>
                
                <div class="sidebar-content" id="exerciseList">
                    <!-- Exercises will be loaded here -->
                </div>
                
                <div class="progress-section">
                    <div class="progress-header">
                        <span class="progress-title">Today's Progress</span>
                        <span class="progress-percentage">65%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 65%;"></div>
                    </div>
                    <div class="progress-stats">
                        <span>3 exercises completed</span>
                        <span>2 remaining</span>
                    </div>
                </div>
            </div>

            <!-- Main Workshop Area -->
            <div class="workshop-main">
                <div class="main-header">
                    <div class="exercise-header">
                        <div class="exercise-info">
                            <h2 id="exerciseTitle">Character Dialogue Master</h2>
                            <div class="exercise-tags">
                                <span class="exercise-tag">Dialogue</span>
                                <span class="exercise-tag">Character Development</span>
                                <span class="exercise-tag">15 minutes</span>
                            </div>
                            <p class="exercise-prompt" id="exercisePrompt">
                                Write a conversation between two characters who have never met before. One is rushing to catch a train, the other is sitting on a bench reading. Show their personalities through dialogue alone.
                            </p>
                        </div>
                        
                        <div class="exercise-controls">
                            <button class="control-btn" title="Bookmark Exercise">
                                <i class="fas fa-bookmark"></i>
                            </button>
                            <button class="control-btn" title="Share Exercise">
                                <i class="fas fa-share"></i>
                            </button>
                            <button class="control-btn" title="Exercise Settings">
                                <i class="fas fa-cog"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="main-content">
                    <div class="writing-toolbar">
                        <div class="toolbar-left">
                            <div class="word-count" id="wordCount">0 words</div>
                            <div class="timer">
                                <i class="fas fa-clock"></i>
                                <span id="timerDisplay">15:00</span>
                                <div class="timer-controls">
                                    <button class="timer-btn" onclick="startTimer()" title="Start">
                                        <i class="fas fa-play"></i>
                                    </button>
                                    <button class="timer-btn" onclick="pauseTimer()" title="Pause">
                                        <i class="fas fa-pause"></i>
                                    </button>
                                    <button class="timer-btn" onclick="resetTimer()" title="Reset">
                                        <i class="fas fa-redo"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="toolbar-right">
                            <button class="toolbar-btn" onclick="saveExercise()">
                                <i class="fas fa-save"></i> Save
                            </button>
                            <button class="toolbar-btn" onclick="getAIFeedback()">
                                <i class="fas fa-magic"></i> AI Review
                            </button>
                        </div>
                    </div>
                    
                    <textarea class="writing-area" id="writingArea" 
                              placeholder="Begin your creative exercise here... Let your imagination flow freely."></textarea>
                </div>
            </div>

            <!-- AI Assistant Panel -->
            <div class="ai-assistant">
                <div class="ai-header">
                    <div class="ai-title">
                        <i class="fas fa-robot"></i>
                        Creative AI Assistant
                        <div class="ai-status"></div>
                    </div>
                    <div class="ai-subtitle">Your personal writing coach</div>
                </div>
                
                <div class="ai-content">
                    <div class="ai-tools">
                        <div class="ai-tool-grid">
                            <div class="ai-tool" onclick="generatePrompt()">
                                <div class="ai-tool-icon">
                                    <i class="fas fa-lightbulb"></i>
                                </div>
                                <div class="ai-tool-name">Generate Prompt</div>
                            </div>
                            <div class="ai-tool" onclick="improveText()">
                                <div class="ai-tool-icon">
                                    <i class="fas fa-wand-magic-sparkles"></i>
                                </div>
                                <div class="ai-tool-name">Improve Text</div>
                            </div>
                            <div class="ai-tool" onclick="analyzeStyle()">
                                <div class="ai-tool-icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                                <div class="ai-tool-name">Style Analysis</div>
                            </div>
                            <div class="ai-tool" onclick="continueWriting()">
                                <div class="ai-tool-icon">
                                    <i class="fas fa-forward"></i>
                                </div>
                                <div class="ai-tool-name">Continue</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="ai-suggestions" id="aiSuggestions">
                        <div class="suggestion-item">
                            <div class="suggestion-title">ðŸ’¡ Writing Tip</div>
                            <div class="suggestion-text">
                                Try starting with action or dialogue to immediately engage your reader. Avoid lengthy descriptions in the opening.
                            </div>
                            <div class="suggestion-actions">
                                <button class="suggestion-btn">Apply</button>
                                <button class="suggestion-btn">Dismiss</button>
                            </div>
                        </div>
                        
                        <div class="suggestion-item">
                            <div class="suggestion-title">ðŸŽ­ Character Voice</div>
                            <div class="suggestion-text">
                                Each character should have a distinct speaking pattern. Consider their background, education, and emotional state.
                            </div>
                            <div class="suggestion-actions">
                                <button class="suggestion-btn">Learn More</button>
                                <button class="suggestion-btn">Examples</button>
                            </div>
                        </div>
                        
                        <div class="suggestion-item">
                            <div class="suggestion-title">âœ¨ Creative Spark</div>
                            <div class="suggestion-text">
                                What if one of your characters has a secret they're desperate to hide? How would that affect their dialogue?
                            </div>
                            <div class="suggestion-actions">
                                <button class="suggestion-btn">Explore</button>
                                <button class="suggestion-btn">Save Idea</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample exercises data
        const exercises = [
            {
                id: 1,
                title: "Character Dialogue Master",
                description: "Master the art of revealing character through conversation",
                difficulty: "medium",
                duration: "15 min",
                category: "dialogue",
                prompt: "Write a conversation between two characters who have never met before. One is rushing to catch a train, the other is sitting on a bench reading. Show their personalities through dialogue alone.",
                tags: ["Dialogue", "Character Development", "15 minutes"],
                active: true
            },
            {
                id: 2,
                title: "Sensory Scene Building",
                description: "Create immersive scenes using all five senses",
                difficulty: "easy",
                duration: "20 min",
                category: "description",
                prompt: "Describe a busy marketplace using all five senses. Transport your reader there without using the words 'see', 'hear', 'smell', 'taste', or 'feel'.",
                tags: ["Description", "Sensory Writing", "20 minutes"],
                active: false
            },
            {
                id: 3,
                title: "Plot Twist Generator",
                description: "Learn to craft unexpected narrative surprises",
                difficulty: "hard",
                duration: "30 min",
                category: "plot",
                prompt: "Write a short story where the protagonist discovers that everything they believed about their past is wrong. Reveal this through action and consequence, not exposition.",
                tags: ["Plot", "Twist", "30 minutes"],
                active: false
            },
            {
                id: 4,
                title: "Emotional Subtext",
                description: "Write what's not being said",
                difficulty: "medium",
                duration: "25 min",
                category: "emotion",
                prompt: "Write a scene where two people are having a surface-level conversation about the weather, but both are dealing with the recent end of their relationship.",
                tags: ["Emotion", "Subtext", "25 minutes"],
                active: false
            },
            {
                id: 5,
                title: "World Building Workshop",
                description: "Create believable fictional worlds",
                difficulty: "hard",
                duration: "45 min",
                category: "worldbuilding",
                prompt: "Create a society where memory is currency. Describe a typical day for someone who has just become very poor or very rich in this world.",
                tags: ["World Building", "Concept", "45 minutes"],
                active: false
            }
        ];

        let currentExercise = exercises[0];
        let timer = null;
        let timeLeft = 15 * 60; // 15 minutes in seconds
        let isPaused = true;

        document.addEventListener('DOMContentLoaded', function() {
            loadExercises();
            setupEventListeners();
            updateWordCount();
        });

        function loadExercises() {
            const exerciseList = document.getElementById('exerciseList');
            exerciseList.innerHTML = exercises.map(exercise => `
                <div class="exercise-item ${exercise.active ? 'active' : ''}" 
                     onclick="selectExercise(${exercise.id})">
                    <div class="exercise-title">${exercise.title}</div>
                    <div class="exercise-description">${exercise.description}</div>
                    <div class="exercise-meta">
                        <span class="exercise-difficulty difficulty-${exercise.difficulty}">${exercise.difficulty}</span>
                        <span>${exercise.duration}</span>
                    </div>
                </div>
            `).join('');
        }

        function selectExercise(exerciseId) {
            // Update active states
            exercises.forEach(ex => ex.active = ex.id === exerciseId);
            currentExercise = exercises.find(ex => ex.id === exerciseId);
            
            // Update UI
            loadExercises();
            updateExerciseDisplay();
            
            // Reset timer for new exercise
            const duration = parseInt(currentExercise.duration);
            timeLeft = duration * 60;
            updateTimerDisplay();
            pauseTimer();
        }

        function updateExerciseDisplay() {
            document.getElementById('exerciseTitle').textContent = currentExercise.title;
            document.getElementById('exercisePrompt').textContent = currentExercise.prompt;
            
            // Update tags
            const tagsContainer = document.querySelector('.exercise-tags');
            tagsContainer.innerHTML = currentExercise.tags.map(tag => 
                `<span class="exercise-tag">${tag}</span>`
            ).join('');
        }

        function setupEventListeners() {
            const writingArea = document.getElementById('writingArea');
            
            // Word count update
            writingArea.addEventListener('input', updateWordCount);
            
            // Auto-save every 30 seconds
            setInterval(() => {
                if (writingArea.value.trim()) {
                    saveExercise(true); // Auto-save
                }
            }, 30000);
        }

        function updateWordCount() {
            const writingArea = document.getElementById('writingArea');
            const text = writingArea.value.trim();
            const words = text ? text.split(/\s+/).length : 0;
            document.getElementById('wordCount').textContent = `${words} words`;
        }

        function startTimer() {
            if (isPaused) {
                isPaused = false;
                timer = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    
                    if (timeLeft <= 0) {
                        completeExercise();
                    }
                }, 1000);
            }
        }

        function pauseTimer() {
            isPaused = true;
            if (timer) {
                clearInterval(timer);
                timer = null;
            }
        }

        function resetTimer() {
            pauseTimer();
            const duration = parseInt(currentExercise.duration);
            timeLeft = duration * 60;
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
        }

        function completeExercise() {
            pauseTimer();
            alert('Time\'s up! Great job completing the exercise!');
            showCompletionModal();
        }

        function saveExercise(isAutoSave = false) {
            const writingArea = document.getElementById('writingArea');
            const content = writingArea.value;
            
            if (content.trim()) {
                // Simulate saving to backend
                console.log('Saving exercise:', {
                    exerciseId: currentExercise.id,
                    content: content,
                    wordCount: content.trim().split(/\s+/).length,
                    timeSpent: (parseInt(currentExercise.duration) * 60 - timeLeft)
                });
                
                if (!isAutoSave) {
                    showToast('Exercise saved successfully!');
                }
            }
        }

        function getAIFeedback() {
            const writingArea = document.getElementById('writingArea');
            const content = writingArea.value.trim();
            
            if (!content) {
                showToast('Please write something first to get AI feedback!');
                return;
            }
            
            showToast('AI is analyzing your writing...');
            
            // Simulate AI feedback
            setTimeout(() => {
                addAISuggestion({
                    title: 'ðŸŽ¯ AI Feedback',
                    text: 'Your dialogue feels natural and shows character personality well. Consider adding more physical actions to break up the conversation.',
                    actions: ['Apply Suggestions', 'More Details']
                });
            }, 2000);
        }

        function addAISuggestion(suggestion) {
            const suggestionsContainer = document.getElementById('aiSuggestions');
            const suggestionElement = document.createElement('div');
            suggestionElement.className = 'suggestion-item';
            suggestionElement.innerHTML = `
                <div class="suggestion-title">${suggestion.title}</div>
                <div class="suggestion-text">${suggestion.text}</div>
                <div class="suggestion-actions">
                    ${suggestion.actions.map(action => 
                        `<button class="suggestion-btn">${action}</button>`
                    ).join('')}
                </div>
            `;
            
            suggestionsContainer.insertBefore(suggestionElement, suggestionsContainer.firstChild);
        }

        // AI Tool Functions
        function generatePrompt() {
            const prompts = [
                "What if your character discovered they could hear other people's thoughts for one day?",
                "Write about a world where colors have been outlawed.",
                "Your character finds a letter addressed to them from 50 years in the future.",
                "Write a story that takes place entirely in an elevator.",
                "Your character wakes up to find everyone else has disappeared."
            ];
            
            const randomPrompt = prompts[Math.floor(Math.random() * prompts.length)];
            addAISuggestion({
                title: 'ðŸ’¡ New Writing Prompt',
                text: randomPrompt,
                actions: ['Use This Prompt', 'Generate Another']
            });
        }

        function improveText() {
            const writingArea = document.getElementById('writingArea');
            const selectedText = writingArea.value.substring(writingArea.selectionStart, writingArea.selectionEnd);
            
            if (!selectedText) {
                showToast('Please select some text to improve!');
                return;
            }
            
            addAISuggestion({
                title: 'âœ¨ Text Improvement',
                text: 'Try varying your sentence length for better rhythm. Consider replacing "very" with a stronger adjective.',
                actions: ['Apply Changes', 'Show Examples']
            });
        }

        function analyzeStyle() {
            addAISuggestion({
                title: 'ðŸ“Š Style Analysis',
                text: 'Your writing shows good pacing with a mix of short and long sentences. Average reading level: 8th grade. Tone: Conversational and engaging.',
                actions: ['Detailed Report', 'Style Tips']
            });
        }

        function continueWriting() {
            const writingArea = document.getElementById('writingArea');
            const content = writingArea.value.trim();
            
            if (!content) {
                showToast('Please write something first, then I can help continue!');
                return;
            }
            
            addAISuggestion({
                title: 'ðŸš€ Continue Your Story',
                text: 'Based on your writing so far, consider having your character face an unexpected obstacle that forces them to make a difficult choice.',
                actions: ['Generate Continuation', 'Plot Suggestions']
            });
        }

        function switchTab(tabName) {
            // Update tab states
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // In a real app, this would load different content
            console.log('Switched to:', tabName);
        }

        function showToast(message) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--bg-dark);
                color: white;
                padding: 12px 20px;
                border-radius: 8px;
                z-index: 1000;
                box-shadow: var(--shadow-lg);
                transition: var(--transition);
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        function showCompletionModal() {
            // This would show a modal with exercise completion stats
            const wordCount = document.getElementById('wordCount').textContent;
            const timeSpent = parseInt(currentExercise.duration) * 60 - timeLeft;
            const minutes = Math.floor(timeSpent / 60);
            
            addAISuggestion({
                title: 'ðŸŽ‰ Exercise Complete!',
                text: `Great work! You wrote ${wordCount} in ${minutes} minutes. Your creativity is flowing beautifully.`,
                actions: ['Next Exercise', 'Save & Share']
            });
        }

        // Initialize
        updateExerciseDisplay();
        updateTimerDisplay();
    </script>
</body>
</html>